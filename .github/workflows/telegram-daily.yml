name: Telegram Daily 7am KST

on:
  schedule:
    # GitHub Actions는 UTC 기준. KST 07:00 = 전일 UTC 22:00
    - cron: "0 22 * * *"
  workflow_dispatch: {}  # 수동 실행 버튼

jobs:
  send:
    runs-on: ubuntu-latest
    env:
      TELEGRAM_BOT_TOKEN: ${{ secrets.TELEGRAM_BOT_TOKEN }}
      TELEGRAM_CHAT_ID: ${{ secrets.TELEGRAM_CHAT_ID }}
      DEFAULT_MESSAGE: ${{ secrets.DEFAULT_MESSAGE }}
      # 메시지를 동적으로 바꾸고 싶으면 아래 MESSAGE를 이 job에서 지정 가능
      # MESSAGE: "굿모닝! 오늘은 $(date +'%Y-%m-%d') 입니다."
    steps:
      - name: Check out
        uses: actions/checkout@v4

      - name: Run Python script
        run: python3 send_telegram.py
  
